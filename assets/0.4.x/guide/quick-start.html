<article class=flex-1><h1 id=quick-start>Quick Start<a class=anchor href=#quick-start>#</a></h1><h2 id=create-a-cargo-project>Create a cargo project<a class=anchor href=#create-a-cargo-project>#</a></h2><div class=code><button class="i-lucide-copy transition w-4 h-4 select-none absolute top-4 right-2 op-20 hover:op-80"></button><pre class=language-bash><code><span class=line><span class=operator>></span> <span class=number>cargo</span> <span class=function.call>new</span> <span class=parameter>app</span>
</span></code></pre></div><h2 id=install-viz-and-tokio>Install Viz and Tokio<a class=anchor href=#install-viz-and-tokio>#</a></h2><div class=code><button class="i-lucide-copy transition w-4 h-4 select-none absolute top-4 right-2 op-20 hover:op-80"></button><pre class=language-bash><code><span class=line><span class=operator>></span> <span class=number>cd</span> <span class=function.call>app</span>
</span><span class=line><span class=operator>></span> <span class=number>cargo</span> <span class=function.call>add</span> <span class=parameter>viz</span>
</span><span class=line><span class=operator>></span> <span class=number>cargo</span> <span class=function.call>add</span> <span class=parameter>tokio</span>
</span></code></pre></div><h2 id=edit-main>Edit main<a class=anchor href=#edit-main>#</a></h2><div class=code><button class="i-lucide-copy transition w-4 h-4 select-none absolute top-4 right-2 op-20 hover:op-80"></button><pre class=language-rust><code><span class=line><span class=keyword>use</span> <span class=namespace>std</span><span class=punctuation.delimiter>::</span><span class=namespace>net</span><span class=punctuation.delimiter>::</span><span class=type>SocketAddr</span><span class=punctuation.delimiter>;</span>
</span><span class=line><span class=keyword>use</span> <span class=namespace>viz</span><span class=punctuation.delimiter>::</span><span class=punctuation.bracket>{</span><span class=type>Request</span><span class=punctuation.delimiter>,</span> <span class=type>Result</span><span class=punctuation.delimiter>,</span> <span class=type>Router</span><span class=punctuation.delimiter>,</span> <span class=type>Server</span><span class=punctuation.delimiter>,</span> <span class=type>ServiceMaker</span><span class=punctuation.bracket>}</span><span class=punctuation.delimiter>;</span>
</span><span class=line>
</span><span class=line><span class=keyword>async</span> <span class=keyword.function>fn</span> <span class=function>index</span><span class=punctuation.bracket>(</span>_: <span class=type>Request</span><span class=punctuation.bracket>)</span> <span class=operator>-></span> <span class=type>Result</span><span class=punctuation.bracket><</span><span class=keyword>&</span><span class=label>'</span><span class=label>static</span> <span class=type.builtin>str</span><span class=punctuation.bracket>></span> <span class=punctuation.bracket>{</span>
</span><span class=line>    <span class=type>Ok</span><span class=punctuation.bracket>(</span><span class=string>"Hello Viz"</span><span class=punctuation.bracket>)</span>
</span><span class=line><span class=punctuation.bracket>}</span>
</span><span class=line>
</span><span class=line><span class=punctuation.bracket>#</span><span class=punctuation.bracket>[</span><span class=namespace>tokio</span><span class=punctuation.delimiter>::</span><span class=function.macro>main</span><span class=punctuation.bracket>]</span>
</span><span class=line><span class=keyword>async</span> <span class=keyword.function>fn</span> <span class=function>main</span><span class=punctuation.bracket>(</span><span class=punctuation.bracket>)</span> <span class=operator>-></span> <span class=type>Result</span><span class=punctuation.bracket><</span><span class=punctuation.bracket>(</span><span class=punctuation.bracket>)</span><span class=punctuation.bracket>></span> <span class=punctuation.bracket>{</span>
</span><span class=line>    <span class=keyword>let</span> <span class=variable>addr</span> <span class=operator>=</span> <span class=type>SocketAddr</span><span class=punctuation.delimiter>::</span><span class=function>from</span><span class=punctuation.bracket>(</span><span class=punctuation.bracket>(</span><span class=punctuation.bracket>[</span><span class=constant>127</span><span class=punctuation.delimiter>,</span> <span class=constant>0</span><span class=punctuation.delimiter>,</span> <span class=constant>0</span><span class=punctuation.delimiter>,</span> <span class=constant>1</span><span class=punctuation.bracket>]</span><span class=punctuation.delimiter>,</span> <span class=constant>3000</span><span class=punctuation.bracket>)</span><span class=punctuation.bracket>)</span><span class=punctuation.delimiter>;</span>
</span><span class=line>    <span class=function.macro>println</span><span class=function.macro>!</span><span class=punctuation.bracket>(</span><span class=string>"listening on {addr}"</span><span class=punctuation.bracket>)</span><span class=punctuation.delimiter>;</span>
</span><span class=line>
</span><span class=line>    <span class=keyword>let</span> <span class=variable>app</span> <span class=operator>=</span> <span class=type>Router</span><span class=punctuation.delimiter>::</span><span class=function>new</span><span class=punctuation.bracket>(</span><span class=punctuation.bracket>)</span><span class=punctuation.delimiter>.</span><span class=function>get</span><span class=punctuation.bracket>(</span><span class=string>"/"</span><span class=punctuation.delimiter>,</span> <span class=variable>index</span><span class=punctuation.bracket>)</span><span class=punctuation.delimiter>;</span>
</span><span class=line>
</span><span class=line>    <span class=conditional>if</span> <span class=keyword>let</span> <span class=constructor>Err</span><span class=punctuation.bracket>(</span><span class=variable>err</span><span class=punctuation.bracket>)</span> <span class=operator>=</span> <span class=type>Server</span><span class=punctuation.delimiter>::</span><span class=function>bind</span><span class=punctuation.bracket>(</span><span class=operator>&</span><span class=variable>addr</span><span class=punctuation.bracket>)</span>
</span><span class=line>        <span class=punctuation.delimiter>.</span><span class=function>serve</span><span class=punctuation.bracket>(</span><span class=type>ServiceMaker</span><span class=punctuation.delimiter>::</span><span class=function>from</span><span class=punctuation.bracket>(</span><span class=variable>app</span><span class=punctuation.bracket>)</span><span class=punctuation.bracket>)</span>
</span><span class=line>        <span class=punctuation.delimiter>.</span><span class=keyword.return>await</span>
</span><span class=line>    <span class=punctuation.bracket>{</span>
</span><span class=line>        <span class=function.macro>println</span><span class=function.macro>!</span><span class=punctuation.bracket>(</span><span class=string>"{err}"</span><span class=punctuation.bracket>)</span><span class=punctuation.delimiter>;</span>
</span><span class=line>    <span class=punctuation.bracket>}</span>
</span><span class=line>
</span><span class=line>    <span class=type>Ok</span><span class=punctuation.bracket>(</span><span class=punctuation.bracket>(</span><span class=punctuation.bracket>)</span><span class=punctuation.bracket>)</span>
</span><span class=line><span class=punctuation.bracket>}</span>
</span></code></pre></div><h2 id=run-and-test>Run and test<a class=anchor href=#run-and-test>#</a></h2><div class=code><button class="i-lucide-copy transition w-4 h-4 select-none absolute top-4 right-2 op-20 hover:op-80"></button><pre class=language-bash><code><span class=line><span class=operator>></span> <span class=number>cargo</span> <span class=function.call>run</span> <span class=parameter>--</span> <span class=parameter>--nocaputre</span>
</span></code></pre></div></article><nav class="flex-col gap-5 hidden lg:flex"><div class="py-1 text-2 uppercase">On this page</div><ul class=text-3><li><a class="block py-1 font-normal transition-colors op75 hover:op100"href=#create-a-cargo-project>Create a cargo project</a></li><li><a class="block py-1 font-normal transition-colors op75 hover:op100"href=#install-viz-and-tokio>Install Viz and Tokio</a></li><li><a class="block py-1 font-normal transition-colors op75 hover:op100"href=#edit-main>Edit main</a></li><li><a class="block py-1 font-normal transition-colors op75 hover:op100"href=#run-and-test>Run and test</a></li></ul></nav>