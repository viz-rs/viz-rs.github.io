<article class=flex-1><h1 id=introduction>Introduction<a class=anchor href=#introduction>#</a></h1><h2 id=what-is-viz?>What is Viz?<a class=anchor href=#what-is-viz?>#</a></h2><p><strong>Viz</strong> is a Rust framework for building Web services. It builts on top of <a href=https://tokio.rs/>Tokio</a> and <a href=https://hyper.rs/>Hyper</a>, provides a set of flexible routing, clean request processing, and a robust middleware model to help you develop Web services efficiently.</p><p>Here is a minimal example:</p><div class=code><button class="i-carbon-copy transition w-4 h-4 select-none absolute top-4 right-2 op-20 hover:op-80"></button><pre class=language-rust><code><span class=line><span class=keyword>use</span> <span class=namespace>std</span><span class=punctuation.delimiter>::</span><span class=namespace>net</span><span class=punctuation.delimiter>::</span><span class=type>SocketAddr</span><span class=punctuation.delimiter>;</span>
</span><span class=line><span class=keyword>use</span> <span class=namespace>viz</span><span class=punctuation.delimiter>::</span><span class=punctuation.bracket>{</span><span class=type>Request</span><span class=punctuation.delimiter>,</span> <span class=type>Result</span><span class=punctuation.delimiter>,</span> <span class=type>Router</span><span class=punctuation.delimiter>,</span> <span class=type>Server</span><span class=punctuation.delimiter>,</span> <span class=type>ServiceMaker</span><span class=punctuation.bracket>}</span><span class=punctuation.delimiter>;</span>
</span><span class=line>
</span><span class=line><span class=keyword>async</span> <span class=keyword.function>fn</span> <span class=function>index</span><span class=punctuation.bracket>(</span>_: <span class=type>Request</span><span class=punctuation.bracket>)</span> <span class=operator>-></span> <span class=type>Result</span><span class=punctuation.bracket><</span><span class=keyword>&</span><span class=label>'</span><span class=label>static</span> <span class=type.builtin>str</span><span class=punctuation.bracket>></span> <span class=punctuation.bracket>{</span>
</span><span class=line>    <span class=type>Ok</span><span class=punctuation.bracket>(</span><span class=string>"Hello, World!"</span><span class=punctuation.bracket>)</span>
</span><span class=line><span class=punctuation.bracket>}</span>
</span><span class=line>
</span><span class=line><span class=punctuation.bracket>#</span><span class=punctuation.bracket>[</span><span class=namespace>tokio</span><span class=punctuation.delimiter>::</span><span class=namespace>main</span><span class=punctuation.bracket>]</span>
</span><span class=line><span class=keyword>async</span> <span class=keyword.function>fn</span> <span class=function>main</span><span class=punctuation.bracket>(</span><span class=punctuation.bracket>)</span> <span class=operator>-></span> <span class=type>Result</span><span class=punctuation.bracket><</span><span class=punctuation.bracket>(</span><span class=punctuation.bracket>)</span><span class=punctuation.bracket>></span> <span class=punctuation.bracket>{</span>
</span><span class=line>    <span class=keyword>let</span> <span class=variable>addr</span> <span class=operator>=</span> <span class=type>SocketAddr</span><span class=punctuation.delimiter>::</span><span class=function>from</span><span class=punctuation.bracket>(</span><span class=punctuation.bracket>(</span><span class=punctuation.bracket>[</span><span class=constant>127</span><span class=punctuation.delimiter>,</span> <span class=constant>0</span><span class=punctuation.delimiter>,</span> <span class=constant>0</span><span class=punctuation.delimiter>,</span> <span class=constant>1</span><span class=punctuation.bracket>]</span><span class=punctuation.delimiter>,</span> <span class=constant>3000</span><span class=punctuation.bracket>)</span><span class=punctuation.bracket>)</span><span class=punctuation.delimiter>;</span>
</span><span class=line>    <span class=function.macro>println</span><span class=function.macro>!</span><span class=punctuation.bracket>(</span><span class=string>"listening on {}"</span>, <span class=variable>addr</span><span class=punctuation.bracket>)</span><span class=punctuation.delimiter>;</span>
</span><span class=line>
</span><span class=line>    <span class=keyword>let</span> <span class=variable>app</span> <span class=operator>=</span> <span class=type>Router</span><span class=punctuation.delimiter>::</span><span class=function>new</span><span class=punctuation.bracket>(</span><span class=punctuation.bracket>)</span><span class=punctuation.delimiter>.</span><span class=function>get</span><span class=punctuation.bracket>(</span><span class=string>"/"</span><span class=punctuation.delimiter>,</span> <span class=variable>index</span><span class=punctuation.bracket>)</span><span class=punctuation.delimiter>;</span>
</span><span class=line>
</span><span class=line>    <span class=keyword>if</span> <span class=keyword>let</span> <span class=constructor>Err</span><span class=punctuation.bracket>(</span><span class=variable>err</span><span class=punctuation.bracket>)</span> <span class=operator>=</span> <span class=type>Server</span><span class=punctuation.delimiter>::</span><span class=function>bind</span><span class=punctuation.bracket>(</span><span class=operator>&</span><span class=variable>addr</span><span class=punctuation.bracket>)</span>
</span><span class=line>        <span class=punctuation.delimiter>.</span><span class=function>serve</span><span class=punctuation.bracket>(</span><span class=type>ServiceMaker</span><span class=punctuation.delimiter>::</span><span class=function>from</span><span class=punctuation.bracket>(</span><span class=variable>app</span><span class=punctuation.bracket>)</span><span class=punctuation.bracket>)</span>
</span><span class=line>        <span class=punctuation.delimiter>.</span><span class=keyword>await</span>
</span><span class=line>    <span class=punctuation.bracket>{</span>
</span><span class=line>        <span class=function.macro>println</span><span class=function.macro>!</span><span class=punctuation.bracket>(</span><span class=string>"{}"</span>, <span class=variable>err</span><span class=punctuation.bracket>)</span><span class=punctuation.delimiter>;</span>
</span><span class=line>    <span class=punctuation.bracket>}</span>
</span><span class=line>
</span><span class=line>    <span class=type>Ok</span><span class=punctuation.bracket>(</span><span class=punctuation.bracket>(</span><span class=punctuation.bracket>)</span><span class=punctuation.bracket>)</span>
</span><span class=line><span class=punctuation.bracket>}</span>
</span></code></pre></div><div class=code><button class="i-carbon-copy transition w-4 h-4 select-none absolute top-4 right-2 op-20 hover:op-80"></button><pre class=language-bash><code><span class=line><span class=function><span class=operator>$</span> <span class=variable>curl</span></span> 127.0.0.1:3000
</span><span class=line><span class=comment># Hello, World!</span>
</span></code></pre></div></article><nav class="flex-col gap-5 hidden lg:flex"><div class="py-1 text-2 uppercase">On this page</div><ul class=text-3><li><a class="block py-1 font-normal transition-colors op75 hover:op100"href=#what-is-viz?>What is Viz?</a></li></ul></nav>